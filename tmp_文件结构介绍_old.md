# ğŸ—ï¸ VLMä»»åŠ¡è§„åˆ’èƒ½åŠ›è¯„ä¼°ä¸è®­ç»ƒé¡¹ç›® - æ–‡ä»¶ç»“æ„è¯¦è§£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª**VLMï¼ˆè§†è§‰è¯­è¨€æ¨¡å‹ï¼‰ä»»åŠ¡è§„åˆ’èƒ½åŠ›è¯„ä¼°ä¸è®­ç»ƒé¡¹ç›®**ï¼Œä¸»è¦åŸºäºVLABenchè¯„ä¼°æ¡†æ¶å¯¹Qwen3-VLæ¨¡å‹è¿›è¡Œå¾®è°ƒè¯„ä¼°ã€‚é¡¹ç›®æ”¯æŒå®Œæ•´çš„è®­ç»ƒ-è¯„ä¼°-åˆ†ææµæ°´çº¿ã€‚

## ğŸ“ ä¸»è¦ç›®å½•ç»“æ„

```
[PROJECT_NAME]GuiHuaTraining/
â”œâ”€â”€ ğŸ¤– æ ¸å¿ƒè®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ run_vlm_evaluation.py              # ä¸»è¦è¯„ä¼°è„šæœ¬ï¼ˆ974è¡Œï¼‰
â”‚   â”œâ”€â”€ download_vlabench_with_retry.py    # æ™ºèƒ½ä¸‹è½½VLABenchæ•°æ®é›†ï¼ˆ219è¡Œï¼‰
â”‚   â”œâ”€â”€ evaluate_checkpoints.py            # Checkpointæ‰¹é‡è¯„ä¼°ï¼ˆ469è¡Œï¼‰
â”‚   â””â”€â”€ analyze_evaluation_results.py       # ç»“æœåˆ†æä¸å¯è§†åŒ–ï¼ˆ562è¡Œï¼‰
â”‚
â”œâ”€â”€ ğŸ“Š è¯„ä¼°ç»“æœç›®å½•
â”‚   â”œâ”€â”€ 5D_evaluation_results_vlabench/    # 5ç»´è¯„ä¼°ç»“æœï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
â”‚   â””â”€â”€ evaluation_results_vlabench/       # å½“å‰è¯„ä¼°ç»“æœ
â”‚
â”œâ”€â”€ ğŸ§ª VLABenchæ¡†æ¶
â”‚   â””â”€â”€ VLABench/VLABench/                 # æ ¸å¿ƒè¯„ä¼°æ¡†æ¶
â”‚       â”œâ”€â”€ evaluation/                    # è¯„ä¼°æ¨¡å—
â”‚       â”œâ”€â”€ tasks/                         # ä»»åŠ¡å®šä¹‰
â”‚       â”œâ”€â”€ configs/                       # é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ robots/                        # æœºå™¨äººé…ç½®
â”‚       â””â”€â”€ algorithms/                    # ç®—æ³•å®ç°
â”‚
â”œâ”€â”€ ğŸ¤– æ¨¡å‹ç›¸å…³
â”‚   â”œâ”€â”€ models/                           # é¢„è®­ç»ƒæ¨¡å‹å­˜å‚¨
â”‚   â””â”€â”€ output/                           # è®­ç»ƒè¾“å‡ºcheckpoints
â”‚
â”œâ”€â”€ ğŸ“‚ æ•°æ®ä¸é…ç½®
â”‚   â”œâ”€â”€ dataset/                          # è¯„ä¼°æ•°æ®é›†
â”‚   â”œâ”€â”€ data/                             # è®­ç»ƒæ•°æ®
â”‚   â””â”€â”€ scripts/                          # è¾…åŠ©è„šæœ¬
â”‚
â””â”€â”€ âš™ï¸ é…ç½®æ–‡ä»¶
    â”œâ”€â”€ qwen-ft-new.yml                  # è®­ç»ƒé…ç½®
    â””â”€â”€ README.md                        # é¡¹ç›®è¯´æ˜
```

## ğŸ“œ è¯¦ç»†è„šæœ¬ä»‹ç»

### ğŸ¯ æ ¸å¿ƒè¯„ä¼°è„šæœ¬

#### 1. **`run_vlm_evaluation.py`** (974è¡Œ) - ä¸»è¯„ä¼°ç³»ç»Ÿ
**åŠŸèƒ½**: åŸºäºVLABenchæ¡†æ¶çš„VLMä»»åŠ¡è§„åˆ’èƒ½åŠ›è¯„ä¼°ç³»ç»Ÿ

**æ ¸å¿ƒç±»**:
- `Qwen3VLAdapter`: é€‚é…Qwen3-VL-2B-Instructæ¨¡å‹åˆ°VLABenchæ¥å£
- `LimitedEpisodeEvaluator`: é™åˆ¶æ¯ä¸ªä»»åŠ¡çš„è¯„ä¼°æ ·æœ¬æ•°

**è¯„ä¼°æ¨¡å¼**:
- **å•æ¨¡å‹è¯„ä¼°**: è¯„ä¼°å•ä¸ªæ¨¡å‹åœ¨æŒ‡å®šç»´åº¦çš„è¡¨ç°
- **æ‰¹é‡è¯„ä¼°**: åŒæ—¶è¯„ä¼°åŸºçº¿æ¨¡å‹+æ‰€æœ‰checkpoints
- **å¤šç»´åº¦å¹¶è¡Œè¯„ä¼°**: ä½¿ç”¨å¤šè¿›ç¨‹åŒæ—¶è¯„ä¼°å¤šä¸ªæ¨¡å‹å’Œç»´åº¦
- **å…¨ç»´åº¦è¯„ä¼°**: æ”¯æŒVLABenchå…¨éƒ¨6ä¸ªç»´åº¦

**æ”¯æŒç»´åº¦**: M&Tã€CommonSenseã€Semanticã€Spatialã€PhysicsLawã€Complex

**å…³é”®åŠŸèƒ½**:
- è‡ªåŠ¨GPUè®¾å¤‡æ£€æµ‹å’Œé”™è¯¯å¤„ç†
- å¤šè¿›ç¨‹å¹¶è¡Œè¯„ä¼°æ”¯æŒ
- å®šæœŸä¿å­˜è¯„ä¼°è¿›åº¦
- å®Œæ•´çš„è¯„åˆ†ç³»ç»Ÿï¼ˆSkill Matchã€Entity Matchã€Exact Matchç­‰ï¼‰

#### 2. **`evaluate_checkpoints.py`** (469è¡Œ) - äººå·¥ç›²å®¡ç³»ç»Ÿ
**åŠŸèƒ½**: è®°å½•åŸºçº¿æ¨¡å‹å’Œæ‰€æœ‰è®­ç»ƒæ£€æŸ¥ç‚¹çš„è¾“å‡ºï¼Œç”¨äºäººå·¥ç›²å®¡å¯¹æ¯”

**æ ¸å¿ƒç‰¹æ€§**:
- è‡ªåŠ¨å‘ç°æ‰€æœ‰æ¨¡å‹ï¼ˆåŸºçº¿+checkpointsï¼‰
- ä¸ºæ¯ä¸ªæ ·æœ¬ç”Ÿæˆæ‰€æœ‰æ¨¡å‹çš„è¾“å‡º
- æ”¯æŒæ‰¹é‡å¤„ç†å’Œå†…å­˜ä¼˜åŒ–
- ä¿å­˜ä¸ºJSONæ ¼å¼ä¾¿äºäººå·¥å®¡æŸ¥

**è¾“å‡ºæ ¼å¼**:
```json
[
  {
    "sample_id": 0,
    "instruction": "ä»»åŠ¡æŒ‡ä»¤æ–‡æœ¬",
    "first_image_path": "é¦–å¸§å›¾ç‰‡è·¯å¾„", 
    "reference_answer": "å‚è€ƒç­”æ¡ˆ",
    "models": {
      "Baseline": "æ¨¡å‹è¾“å‡º",
      "checkpoint-400": "æ¨¡å‹è¾“å‡º",
      ...
    }
  },
  ...
]
```

#### 3. **`analyze_evaluation_results.py`** (562è¡Œ) - ç»“æœåˆ†æä¸å¯è§†åŒ–
**åŠŸèƒ½**: 5ç»´åº¦è¯„ä¼°ç»“æœçš„ç»¼åˆåˆ†æå’Œå¯è§†åŒ–

**åˆ†æåŠŸèƒ½**:
- ç”Ÿæˆè¯¦ç»†çš„ç»Ÿè®¡è¡¨æ ¼
- ç»˜åˆ¶6ç§å¯è§†åŒ–å›¾è¡¨ï¼š
  - `1_total_scores_by_dimension.png` - æ€»åˆ†å¯¹æ¯”å›¾
  - `2_metric_trends_by_dimension.png` - æŒ‡æ ‡è¶‹åŠ¿å›¾  
  - `3_stacked_metrics_by_dimension.png` - å †ç§¯æŸ±çŠ¶å›¾
  - `4_improvement_by_dimension.png` - æ”¹è¿›ç‡å›¾
  - `5_dimension_comparison.png` - ç»´åº¦å¯¹æ¯”å›¾
  - `6_model_radar_chart.png` - é›·è¾¾å›¾
- ç»¼åˆæ€§èƒ½æ’åå’Œç»Ÿè®¡åˆ†æ

**ç»Ÿè®¡æŒ‡æ ‡**:
- å„ç»´åº¦æ€»åˆ†ç»Ÿè®¡ï¼ˆæœ€ä½³ã€æœ€å·®ã€å¹³å‡ã€æ ‡å‡†å·®ï¼‰
- Baselineæ”¹è¿›åˆ†æ
- ç»¼åˆç»´åº¦æ€§èƒ½æ’å
- è¯¦ç»†æŒ‡æ ‡ç»Ÿè®¡åˆ†æ

### ğŸ“¥ æ•°æ®è·å–è„šæœ¬

#### 4. **`download_vlabench_with_retry.py`** (219è¡Œ) - æ™ºèƒ½æ•°æ®ä¸‹è½½
**åŠŸèƒ½**: æ™ºèƒ½ä¸‹è½½VLABenchæ•°æ®é›†ï¼Œè‡ªåŠ¨å¤„ç†APIé™é€Ÿ

**æ ¸å¿ƒç‰¹æ€§**:
- **æ™ºèƒ½é‡è¯•**: æ£€æµ‹429é”™è¯¯ï¼Œè‡ªåŠ¨ä¼‘çœ é‡è¯•
- **æŒ‡æ•°é€€é¿**: å¤±è´¥åä¼‘çœ æ—¶é—´ç¿»å€ï¼Œé¿å…è§¦å‘é™æµ
- **æ–­ç‚¹ç»­ä¼ **: æ”¯æŒä¸­æ–­åç»§ç»­ä¸‹è½½
- **å¤šç»´åº¦æ”¯æŒ**: å¯é€‰æ‹©æ€§ä¸‹è½½ä¸åŒè¯„ä¼°ç»´åº¦

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
python download_vlabench_with_retry.py --dimensions M&T CommonSense Semantic
```

#### 5. **`scripts/download_model.sh`** - æ¨¡å‹ä¸‹è½½è„šæœ¬
**åŠŸèƒ½**: ä»Hugging Faceä¸‹è½½Qwen3-VL-2B-Instructé¢„è®­ç»ƒæ¨¡å‹

**ç‰¹æ€§**:
- ä½¿ç”¨hf-mirroråŠ é€Ÿå›½å†…ä¸‹è½½
- æ”¯æŒæ–­ç‚¹ç»­ä¼ 
- è‡ªåŠ¨åˆ›å»ºç›®å½•ç»“æ„
- å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

#### 6. **`scripts/prepare_love_agibot.py`** (266è¡Œ) - LOVEæ•°æ®é›†å¤„ç†
**åŠŸèƒ½**: ä¸‹è½½å’Œå¤„ç†LOVE-Agibot-Betaæœºå™¨äººæ“ä½œæ•°æ®é›†

**å¤„ç†æµç¨‹**:
1. ä»Hugging Faceä¸‹è½½å›¾åƒå‹ç¼©åŒ…
2. è§£å‹å¹¶æå–æ¯ä¸ªepisodeçš„é¦–å¸§å›¾åƒ
3. æŒ‰`taskid-episodeid.png`æ ¼å¼é‡å‘½å
4. æ”¯æŒå¤šçº¿ç¨‹å¹¶è¡Œå¤„ç†å’Œä¼˜é›…é€€å‡º

**ä½¿ç”¨ç¤ºä¾‹**:
```bash
python prepare_love_agibot.py --num-workers 4
```

### ğŸ‹ï¸ è®­ç»ƒè„šæœ¬

#### 7. **`scripts/run-finetuning.py`** (647è¡Œ) - å…¨é‡å¾®è°ƒè„šæœ¬
**åŠŸèƒ½**: Qwen3-VLæ¨¡å‹çš„å…¨é‡å‚æ•°å¾®è°ƒ

**æŠ€æœ¯ç‰¹æ€§**:
- **æ•°æ®æ ¼å¼é€‚é…**: æ”¯æŒæ–°æ—§ä¸¤ç§æ•°æ®æ ¼å¼è½¬æ¢
- **è¯­è¨€å»ºæ¨¡ç›‘ç£**: ä»…å¯¹assistantå›å¤è®¡ç®—æŸå¤±
- **æ··åˆç²¾åº¦è®­ç»ƒ**: æ”¯æŒBF16/FP16
- **å†…å­˜ä¼˜åŒ–**: æ¢¯åº¦æ£€æŸ¥ç‚¹ã€DeepSpeedæ”¯æŒ
- **è‡ªå®šä¹‰å›è°ƒ**: Richç¾åŒ–æ—¥å¿—è¾“å‡º

**æ ¸å¿ƒç±»**:
- `QwenVLCompletionDataset`: è‡ªå®šä¹‰æ•°æ®é›†ç±»ï¼Œæ”¯æŒå¤šæ¨¡æ€è¾“å…¥
- `DataCollatorForQwenVL`: æ‰¹æ¬¡æ•°æ®æ•´ç†å™¨
- `RichLoggingCallback`: ç¾åŒ–è®­ç»ƒæ—¥å¿—æ˜¾ç¤º
- `SaveProcessorCallback`: è‡ªåŠ¨ä¿å­˜processoré…ç½®

**æ”¯æŒçš„è®­ç»ƒé…ç½®**:
- å…¨é‡å‚æ•°è®­ç»ƒï¼ˆéLoRAï¼‰
- è‡ªåŠ¨æ–­ç‚¹ç»­è®­
- æ‰¹é‡å¤§å°ä¼˜åŒ–
- å­¦ä¹ ç‡è°ƒåº¦

### ğŸ› ï¸ å·¥å…·è„šæœ¬

#### 8. **`test_memory.py`** (30è¡Œ) - æ˜¾å­˜æµ‹è¯•
**åŠŸèƒ½**: æµ‹è¯•æ¨¡å‹åŠ è½½å’Œæ¨ç†æ—¶çš„æ˜¾å­˜å ç”¨

**æµ‹è¯•å†…å®¹**:
- æ¨¡å‹åŠ è½½æ˜¾å­˜å ç”¨
- æ¨ç†å³°å€¼æ˜¾å­˜å ç”¨
- æ”¯æŒbfloat16ç²¾åº¦æµ‹è¯•

#### 9. **`VLABench/dataset_generation.sh`** - è½¨è¿¹æ•°æ®ç”Ÿæˆ
**åŠŸèƒ½**: æ‰¹é‡ç”Ÿæˆè½¨è¿¹æ•°æ®é›†

**ç‰¹æ€§**:
- å¤šä»»åŠ¡å¹¶è¡Œå¤„ç†
- æ”¯æŒè‡ªå®šä¹‰é‡‡æ ·æ•°é‡å’Œèµ·å§‹ID
- å¯æ‰©å±•ä»»åŠ¡ç±»å‹

**é…ç½®ç¤ºä¾‹**:
```bash
N_SAMPLE=10
task_names=("select_toy" "select_fruit")
```

#### 10. **`VLABench/evaluate_openvla.sh`** - OpenVLAè¯„ä¼°
**åŠŸèƒ½**: è¯„ä¼°OpenVLAæ¨¡å‹åœ¨VLABenchä¸Šçš„è¡¨ç°

**è¯„ä¼°é…ç½®**:
- æ”¯æŒå¤šä¸ªè¯„ä¼°è½¨è¿¹ï¼š
  - `track_1_in_distribution`
  - `track_2_cross_category`
  - `track_3_common_sense`
  - `track_4_semantic_instruction`
  - `track_6_unseen_texture`
- å¯é…ç½®LoRAæ£€æŸ¥ç‚¹è·¯å¾„
- æ”¯æŒå¤šç§è¯„ä¼°æŒ‡æ ‡ï¼šsuccess_rateã€intention_scoreã€progress_score

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### è¯„ä¼°ç³»ç»Ÿ (`VLABench/VLABench/`)

#### **evaluation/**: è¯„ä¼°æ¨¡å—
- `evaluator/`: è¯„ä¼°å™¨å®ç°
- `model/vlm/`: VLMæ¨¡å‹æ¥å£
- `metric.py`: è¯„ä¼°æŒ‡æ ‡è®¡ç®—
- `utils.py`: è¯„ä¼°å·¥å…·å‡½æ•°

#### **tasks/**: ä»»åŠ¡å®šä¹‰
- `hierarchical_tasks/`: å±‚æ¬¡åŒ–ä»»åŠ¡
  - `primitive/`: åŸºç¡€ä»»åŠ¡ï¼ˆselect_fruit_seriesã€select_poker_seriesç­‰ï¼‰
  - `mahjong_utils.py`: éº»å°†ä»»åŠ¡å·¥å…·
- `components/`: ä»»åŠ¡ç»„ä»¶
- `condition.py`: ä»»åŠ¡æ¡ä»¶
- `dm_task.py`: DeepMindä»»åŠ¡æ¥å£

#### **configs/**: é…ç½®æ–‡ä»¶
- `evaluation/`: è¯„ä¼°é…ç½®ï¼ˆtracksã€dimensionæ˜ å°„ï¼‰
- `model/`: æ¨¡å‹é…ç½®ï¼ˆOpenVLAç­‰ï¼‰
- `task_related/`: ä»»åŠ¡ç›¸å…³é…ç½®ï¼ˆrecipeã€mathã€experimentç­‰ï¼‰
- `robot_config.json`: æœºå™¨äººé…ç½®
- `camera_config.json`: ç›¸æœºé…ç½®

#### **robots/**: æœºå™¨äººé…ç½®
- `base.py`: æœºå™¨äººåŸºç±»
- `single_arm/`: å•è‡‚æœºå™¨äºº
- `dual_arm/`: åŒè‡‚æœºå™¨äºº
- `humanoid/`: äººå½¢æœºå™¨äºº

#### **algorithms/**: ç®—æ³•å®ç°
- `motion_planning/`: è¿åŠ¨è§„åˆ’ï¼ˆRRTç­‰ï¼‰
- `path_smoothing/`: è·¯å¾„å¹³æ»‘
- `utils.py`: ç®—æ³•å·¥å…·

## ğŸ“ˆ é¡¹ç›®ç‰¹ç‚¹

1. **å¤šGPUå¹¶è¡Œæ”¯æŒ**: æ”¯æŒå¤šè¿›ç¨‹å¹¶è¡Œè¯„ä¼°ä¸åŒæ¨¡å‹å’Œç»´åº¦
2. **æ–­ç‚¹ç»­ä¼ **: è¯„ä¼°è¿‡ç¨‹ä¸­å¯å®šæœŸä¿å­˜è¿›åº¦ï¼Œæ”¯æŒä¸­æ–­æ¢å¤
3. **æ™ºèƒ½é”™è¯¯å¤„ç†**: è‡ªåŠ¨å¤„ç†CUDAé”™è¯¯ã€APIé™é€Ÿç­‰é—®é¢˜
4. **å®Œæ•´è¯„ä¼°ä½“ç³»**: åŒ…å«Skill Matchã€Entity Matchã€Exact Matchç­‰å¤šä¸ªè¯„ä¼°æŒ‡æ ‡
5. **å¤§è§„æ¨¡å®éªŒæ”¯æŒ**: å¯åŒæ—¶è¯„ä¼°æ•°ç™¾ä¸ªæ¨¡å‹checkpoint
6. **å¯è§†åŒ–åˆ†æ**: è‡ªåŠ¨ç”Ÿæˆä¸°å¯Œçš„åˆ†æå›¾è¡¨å’Œç»Ÿè®¡æŠ¥å‘Š

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1. **ç¯å¢ƒå‡†å¤‡**
```bash
# åˆ›å»ºç¯å¢ƒ
conda env create -f qwen-ft-env.yml
conda activate qwen-ft-env

# ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹
bash scripts/download_model.sh
```

### 2. **æ•°æ®å‡†å¤‡**
```bash
# ä¸‹è½½è¯„ä¼°æ•°æ®é›†
python download_vlabench_with_retry.py --dimensions M&T CommonSense

# å‡†å¤‡è®­ç»ƒæ•°æ®
python scripts/prepare_love_agibot.py --num-workers 4
```

### 3. **æ¨¡å‹è®­ç»ƒ**
```bash
# è¿è¡Œå¾®è°ƒè®­ç»ƒ
python scripts/run-finetuning.py \
  --model_name_or_path ./models/Qwen3-VL-2B-Instruct \
  --train_file ./data/train_data.jsonl \
  --image_root ./data/images \
  --output_dir ./output
```

### 4. **æ¨¡å‹è¯„ä¼°**
```bash
# å•æ¨¡å‹è¯„ä¼°
python run_vlm_evaluation.py \
  --model_path ./output/checkpoint-2000 \
  --dimension "M&T" \
  --num_episodes 12

# æ‰¹é‡è¯„ä¼°æ‰€æœ‰checkpoints
python run_vlm_evaluation.py \
  --batch_mode \
  --all_dimensions \
  --baseline_model ./models/Qwen3-VL-2B-Instruct \
  --checkpoints_dir ./output
```

### 5. **äººå·¥å¯¹æ¯”**
```bash
# ç”Ÿæˆç›²å®¡æ•°æ®
python evaluate_checkpoints.py \
  --baseline_model_path ./models/Qwen3-VL-2B-Instruct \
  --checkpoints_dir ./output \
  --test_file ./data/test_16812.jsonl \
  --output_dir ./evaluation_results
```

### 6. **ç»“æœåˆ†æ**
```bash
# å¯è§†åŒ–åˆ†æç»“æœ
python analyze_evaluation_results.py
```

## ğŸ“Š è¯„ä¼°ç»´åº¦è¯´æ˜

| ç»´åº¦ | è¯´æ˜ | ä¸»è¦è€ƒå¯Ÿèƒ½åŠ› |
|------|------|-------------|
| **M&T** | Manipulation & Tool use | æ“ä½œèƒ½åŠ›å’Œå·¥å…·ä½¿ç”¨ |
| **CommonSense** | å¸¸è¯†æ¨ç† | ç‰©ç†å¸¸è¯†å’Œæ—¥å¸¸æ¨ç† |
| **Semantic** | è¯­ä¹‰ç†è§£ | è¯­è¨€ç†è§£å’Œè¯­ä¹‰åŒ¹é… |
| **Spatial** | ç©ºé—´æ„ŸçŸ¥ | ç©ºé—´å…³ç³»å’Œå‡ ä½•ç†è§£ |
| **PhysicsLaw** | ç‰©ç†è§„å¾‹ | ç‰©ç†å®šå¾‹å’Œå› æœå…³ç³» |
| **Complex** | å¤æ‚ä»»åŠ¡ | å¤šæ­¥éª¤å¤åˆä»»åŠ¡ |

## ğŸ”— è„šæœ¬å…³ç³»å›¾

```
æ•°æ®å‡†å¤‡å±‚:
â”œâ”€â”€ download_model.sh (ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹)
â”œâ”€â”€ download_vlabench_with_retry.py (ä¸‹è½½è¯„ä¼°æ•°æ®)
â””â”€â”€ prepare_love_agibot.py (å‡†å¤‡è®­ç»ƒæ•°æ®)

è®­ç»ƒå±‚:
â””â”€â”€ run-finetuning.py (å…¨é‡å¾®è°ƒ)

è¯„ä¼°å±‚:
â”œâ”€â”€ run_vlm_evaluation.py (ä¸»è¯„ä¼°ç³»ç»Ÿ)
â”œâ”€â”€ evaluate_checkpoints.py (äººå·¥ç›²å®¡)
â””â”€â”€ evaluate_openvla.sh (OpenVLAè¯„ä¼°)

åˆ†æå±‚:
â””â”€â”€ analyze_evaluation_results.py (ç»“æœå¯è§†åŒ–)

å·¥å…·å±‚:
â”œâ”€â”€ test_memory.py (æ˜¾å­˜æµ‹è¯•)
â””â”€â”€ dataset_generation.sh (æ•°æ®ç”Ÿæˆ)
```

## ğŸ“ é…ç½®æ–‡ä»¶

### `qwen-ft-new.yml` - è®­ç»ƒé…ç½®
- è®­ç»ƒè½®æ•°ï¼š3 epochs
- æ‰¹å¤§å°ï¼š4ï¼ˆæ¯å¡ï¼‰
- æ¢¯åº¦ç´¯ç§¯æ­¥æ•°ï¼š4ï¼ˆç­‰æ•ˆå…¨å±€æ‰¹ = 4 Ã— 4 Ã— GPUæ•°ï¼‰
- å­¦ä¹ ç‡ï¼š2e-5
- é¢„çƒ­æ­¥æ•°ï¼š400
- ç²¾åº¦ï¼šBF16ï¼ˆL40S GPU æ”¯æŒï¼‰
- æ³¨æ„åŠ›å®ç°ï¼šSDPAï¼ˆæ— éœ€ç¼–è¯‘ FlashAttentionï¼‰
- æ¢¯åº¦æ£€æŸ¥ç‚¹ï¼šå¯ç”¨ï¼ˆèŠ‚çœæ˜¾å­˜ï¼‰

## ğŸ¯ è¯„ä¼°æŒ‡æ ‡

æ¯ä¸ªæ¨¡å‹åœ¨æ¯ä¸ªç»´åº¦ä¸Šéƒ½ä¼šå¾—åˆ°ä»¥ä¸‹è¯„åˆ†ï¼š

1. **Skill Match Score**: æŠ€èƒ½åŒ¹é…åˆ†æ•°
2. **Entity Match Score**: å®ä½“åŒ¹é…åˆ†æ•°
3. **Skill with Entity Match Score**: æŠ€èƒ½+å®ä½“è”åˆåŒ¹é…åˆ†æ•°
4. **Exact Match Score**: ç²¾ç¡®åŒ¹é…åˆ†æ•°
5. **Total Score**: ç»¼åˆæ€»åˆ†

## ğŸ“ˆ è¾“å‡ºæ–‡ä»¶è¯´æ˜

### è¯„ä¼°ç»“æœæ–‡ä»¶
- `evaluation_results_vlabench/[timestamp]/`: è¯„ä¼°ç»“æœç›®å½•
- `summary.json`: è¯„ä¼°æ‘˜è¦
- `output.json`: è¯¦ç»†è¾“å‡º
- `final_score.json`: æœ€ç»ˆè¯„åˆ†

### å¯è§†åŒ–å›¾è¡¨
- `5D_evaluation_results_vlabench/`: 5Dè¯„ä¼°ç»“æœ
- `*.png`: å„ç§åˆ†æå›¾è¡¨

### æ¨¡å‹æ–‡ä»¶
- `models/`: é¢„è®­ç»ƒæ¨¡å‹
- `output/checkpoint-*/`: è®­ç»ƒæ£€æŸ¥ç‚¹

---

## ğŸ“ è”ç³»ä¸æ”¯æŒ

è¿™å¥—è„šæœ¬æ„æˆäº†å®Œæ•´çš„VLMè®­ç»ƒ-è¯„ä¼°-åˆ†ææµæ°´çº¿ï¼Œæ”¯æŒä»æ¨¡å‹ä¸‹è½½åˆ°ç»“æœåˆ†æçš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ã€‚å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹å„ä¸ªè„šæœ¬çš„è¯¦ç»†æ³¨é‡Šå’Œé”™è¯¯æ—¥å¿—ã€‚
